<section id="contact">
  <h1 class="heading mb-4">
    <span><i class="fas fa-address-card"></i></span>
    <span>Contact</span>
  </h1>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <form
          class="contact-form needs-validation"
          [formGroup]="contactForm"
          (ngSubmit)="onSubmit()"
          novalidate
        >
          <!-- Name -->
          <div class="form-group">
            <label for="name">Name <span class="text-danger">*</span></label>
            <input
              type="text"
              id="name"
              formControlName="name"
              class="form-control"
              [ngClass]="{ 'is-invalid': isFieldInvalid('name') }"
              placeholder="Your Name"
              required
            />
            <ng-container *ngIf="isFieldInvalid('name')">
              <div class="invalid-feedback">Name is required.</div>
            </ng-container>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label for="email">Email <span class="text-danger">*</span></label>
            <input
              type="email"
              id="email"
              formControlName="email"
              class="form-control"
              [ngClass]="{ 'is-invalid': isFieldInvalid('email') }"
              placeholder="Your Email"
              required
            />
            <ng-container *ngIf="isFieldInvalid('email')">
              <div class="invalid-feedback">
                <small *ngIf="contactForm.get('email')!.hasError('required')"
                  >Email is required.</small
                >
                <small *ngIf="contactForm.get('email')!.hasError('email')"
                  >Enter a valid email address.</small
                >
              </div>
            </ng-container>
          </div>

          <!-- Phone -->
          <div class="form-group">
            <label for="phone"
              >Phone Number <span class="text-danger">*</span></label
            >
            <input
              type="text"
              id="phone"
              formControlName="phone"
              class="form-control"
              [ngClass]="{ 'is-invalid': isFieldInvalid('phone') }"
              placeholder="Your Phone Number"
              required
            />
            <ng-container *ngIf="isFieldInvalid('phone')">
              <div class="invalid-feedback">
                <small *ngIf="contactForm.get('phone')!.hasError('required')"
                  >Phone number is required.</small
                >
                <small *ngIf="contactForm.get('phone')!.hasError('pattern')"
                  >Enter a valid phone number (10-12 digits).</small
                >
              </div>
            </ng-container>
          </div>

          <!-- Message -->
          <div class="form-group">
            <label for="message"
              >Message <span class="text-danger">*</span></label
            >
            <textarea
              id="message"
              formControlName="message"
              rows="5"
              class="form-control"
              [ngClass]="{ 'is-invalid': isFieldInvalid('message') }"
              placeholder="Message"
              required
            ></textarea>
            <ng-container *ngIf="isFieldInvalid('message')">
              <div class="invalid-feedback">Message is required.</div>
            </ng-container>
          </div>

          <!-- Consent -->
          <div class="form-group form-check">
            <input
              type="checkbox"
              id="consent"
              formControlName="consent"
              class="form-check-input"
              [ngClass]="{ 'is-invalid': isFieldInvalid('consent') }"
              required
            />
            <label for="consent" class="form-check-label">
              I allow this website to store my submission.
              <span class="text-danger">*</span>
            </label>
            <ng-container *ngIf="isFieldInvalid('consent')">
              <div class="invalid-feedback">
                You must give consent to proceed.
              </div>
            </ng-container>
          </div>

          <!-- Submit Button -->
          <div class="text-center">
            <button
              type="submit"
              class="btn btn-primary"
              [disabled]="contactForm.invalid"
            >
              Send Message
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
